---
createdAt: 2026-02-28
modified: 2026-02-28
topic: Kotlin
---

- Kotlin 문자열의 기본 처리 방법
- 문자열 분리와 정규식 사용법
- 3중 따옴표 문자열의 활용
- Java 문자열과의 차이점
- 로컬 함수를 활용한 코드 중복 제거

---

## 문자열 나누기

### Java의 split 문제

Java의 `split` 메서드는 정규식을 인자로 받습니다. 이로 인해 마침표(`.`)를 구분자로 사용하면 의도하지 않은 결과가 발생합니다.

```java
// Java
"12.345-6.A".split(".")  // [] (빈 배열! "."은 모든 문자를 매치하는 정규식)
```

### Kotlin의 split

Kotlin은 이 혼동을 방지하기 위해 `split`을 여러 버전으로 오버로드합니다.

| 함수 | 인자 타입 | 설명 |
|------|----------|------|
| `split(String)` | 문자열 | 리터럴 문자열로 분리 |
| `split(Regex)` | 정규식 | 정규식 패턴으로 분리 |

```kotlin
// 리터럴 문자열로 분리
"12.345-6.A".split(".")           // [12, 345-6, A]

// 여러 구분자 사용
"12.345-6.A".split(".", "-")      // [12, 345, 6, A]

// 정규식으로 분리
"12.345-6.A".split("[.\\-]".toRegex())  // [12, 345, 6, A]
```

---

## 정규식

### Regex 클래스

Kotlin은 `Regex` 클래스를 통해 정규식을 다룹니다. `toRegex()` 확장 함수로 문자열을 정규식으로 변환할 수 있습니다.

```kotlin
val regex = "\\d+".toRegex()
regex.matches("12345")            // true
regex.find("abc123def")?.value    // "123"
regex.findAll("a1b2c3").map { it.value }.toList()  // [1, 2, 3]
```

### 주요 Regex 메서드

| 메서드 | 설명 | 반환 타입 |
|--------|------|----------|
| `matches()` | 전체 문자열이 패턴에 매치되는지 | Boolean |
| `containsMatchIn()` | 패턴이 포함되어 있는지 | Boolean |
| `find()` | 첫 번째 매치 결과 | MatchResult? |
| `findAll()` | 모든 매치 결과 | Sequence\<MatchResult\> |
| `replace()` | 매치된 부분을 대체 | String |
| `matchEntire()` | 전체 문자열 매치 | MatchResult? |

### 정규식으로 문자열 파싱

```kotlin
val path = "/Users/yole/kotlin-book/chapter.adoc"

val regex = """(.+)/(.+)\.(.+)""".toRegex()
val matchResult = regex.matchEntire(path)

if (matchResult != null) {
    val (directory, filename, extension) = matchResult.destructured
    println("Dir: $directory, Name: $filename, Ext: $extension")
    // Dir: /Users/yole/kotlin-book, Name: chapter, Ext: adoc
}
```

---

## 3중 따옴표 문자열

3중 따옴표(`"""`)로 감싼 문자열 안에서는 이스케이프가 필요 없습니다.

### 정규식에서의 활용

```kotlin
// 일반 문자열: 이스케이프 필요
val regex1 = "\\d+\\.\\d+".toRegex()

// 3중 따옴표: 이스케이프 불필요
val regex2 = """\d+\.\d+""".toRegex()
```

### 여러 줄 문자열

```kotlin
val text = """
    |Hello
    |World
    |Kotlin
""".trimMargin()
// Hello
// World
// Kotlin
```

- `trimMargin()`: 기본 구분자 `|` 앞의 공백을 제거
- `trimMargin(">")`처럼 구분자를 변경할 수 있음
- `trimIndent()`: 공통 들여쓰기를 제거

### 문자열 템플릿과 함께 사용

3중 따옴표 안에서도 `$`를 사용한 문자열 템플릿을 사용할 수 있습니다. `$` 기호 자체를 넣으려면 `${'$'}`를 사용합니다.

```kotlin
val price = 100
val message = """
    |상품 가격: $price 원
    |달러 기호: ${'$'}
""".trimMargin()
```

---

## 문자열 처리 함수

Kotlin은 문자열을 다루는 다양한 확장 함수를 제공합니다.

### 경로 파싱 (정규식 없이)

```kotlin
val path = "/Users/yole/kotlin-book/chapter.adoc"

val directory = path.substringBeforeLast("/")   // /Users/yole/kotlin-book
val fullName = path.substringAfterLast("/")     // chapter.adoc
val fileName = fullName.substringBeforeLast(".") // chapter
val extension = fullName.substringAfterLast(".") // adoc
```

### 주요 문자열 확장 함수

| 함수 | 설명 | 예시 |
|------|------|------|
| `substringBefore()` | 구분자 앞 문자열 | `"a.b".substringBefore(".")` → `"a"` |
| `substringAfter()` | 구분자 뒤 문자열 | `"a.b".substringAfter(".")` → `"b"` |
| `substringBeforeLast()` | 마지막 구분자 앞 | `"a.b.c".substringBeforeLast(".")` → `"a.b"` |
| `substringAfterLast()` | 마지막 구분자 뒤 | `"a.b.c".substringAfterLast(".")` → `"c"` |
| `startsWith()` / `endsWith()` | 접두사/접미사 검사 | `"kotlin".startsWith("kot")` → `true` |
| `contains()` | 포함 여부 | `"hello".contains("ell")` → `true` |
| `replace()` | 문자열 치환 | `"abc".replace("b", "x")` → `"axc"` |
| `trim()` | 앞뒤 공백 제거 | `" hello ".trim()` → `"hello"` |

---

## 로컬 함수

Kotlin은 함수 안에 함수를 선언할 수 있습니다. 이를 **로컬 함수**라고 하며, 코드 중복을 제거하면서 함수의 범위를 제한하는 데 유용합니다.

```kotlin
class User(val id: Int, val name: String, val address: String)

fun saveUser(user: User) {
    // 로컬 함수: 바깥 함수의 파라미터에 직접 접근 가능
    fun validate(value: String, fieldName: String) {
        if (value.isEmpty()) {
            throw IllegalArgumentException(
                "Can't save user ${user.id}: empty $fieldName"
            )
        }
    }

    validate(user.name, "Name")
    validate(user.address, "Address")
    // user를 데이터베이스에 저장
}
```

### 로컬 함수의 특징

- 바깥 함수의 파라미터와 변수에 직접 접근 가능
- 함수 내부에서만 사용되므로 외부에 노출되지 않음
- 너무 깊이 중첩하면 가독성이 떨어지므로 한 단계까지 권장

---

## 정리

- Kotlin `split`: 문자열 리터럴과 정규식을 명확히 분리, Java의 혼동 방지
- Regex 클래스: `toRegex()`로 생성, `find()`, `matchEntire()`, `replace()` 등 제공
- 3중 따옴표 문자열: 이스케이프 불필요, 여러 줄 문자열 지원, `trimMargin()`으로 정리
- `substringBefore()`, `substringAfter()` 등으로 정규식 없이 간편한 문자열 파싱 가능
- 로컬 함수: 함수 내부에 함수를 선언하여 코드 중복 제거, 바깥 함수의 변수 접근 가능

---

## QnA

