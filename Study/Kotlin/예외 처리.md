---
cssclasses:
  - cornell-left
  - cornell-livepreview
---

## 1. Kotlin 예외 처리

Kotlin의 예외 처리는 Java와 비슷합니다.

- 함수는 오류가 발생하면 예외를 `throw`할 수 있습니다
- 함수를 호출하는 쪽에서 예외를 `catch`할 수 있습니다
- 호출단에서 `catch`하지 못하면 예외가 다시 던져집니다(rethrow)

### 1-1. throw는 식(expression)

Java와 달리 Kotlin에서 `throw`는 식이므로 다른 식에 포함될 수 있습니다.

```kotlin
val percentage = 
	if (number in 0..100)
		number
	else
		throw IllegalArgumentException("퍼센트 값은 0부터 100 사이여야 합니다: $number")
```

## 2. try, catch, finally

Java와 마찬가지로 `try`와 `catch`, `finally` 절을 사용합니다.

```kotlin
fun readNumber(reader: BufferedReader): Int? {  // throws 명시 불필요
	try {
		val line = reader.readLine()
		return Integer.parseInt(line)
	} catch(e: NumberFormatException) {  // 예외 타입을 콜론(:)으로 명시
		return null
	} finally {  // Java와 동일
		reader.close()
	}
}
```

### 2-1. Java와의 차이점

| 구분         | Java                  | Kotlin                |
| ---------- | --------------------- | --------------------- |
| `throws` 절 | 필수 (체크 예외의 경우)        | 불필요 (명시하지 않음)         |
| 예외 구분      | 체크 예외 / 언체크 예외 구분     | 구분하지 않음               |
| 예외 처리 강제   | 체크 예외는 반드시 처리         | 선택적 처리 가능             |
| 예외 타입 명시   | `catch (Exception e)` | `catch(e: Exception)` |

Java와 달리 `throws` 절이 코드에 없습니다. Kotlin은 체크 예외와 언체크 예외를 구분하지 않습니다. 함수가 던지는 예외를 지정하지 않고, 발생한 예외를 잡아내도 되고 잡아내지 않아도 됩니다.

## 3. try를 식으로 사용

Kotlin에서 `try`는 식으로 사용할 수 있습니다.

```kotlin
fun readNumber(reader: BufferedReader) {
	val number = try {
		Integer.parseInt(reader.readLine())  // 이 값이 try 식의 결과값
	} catch(e: NumberFormatException) {
		return  // 예외 발생 시 함수 종료
	}
	
	println(number)
}
```

### 3-1. try 식의 특징

- `try`의 값을 변수에 대입할 수 있습니다
- `if`와 달리 `try`는 항상 중괄호(`{}`)로 둘러싸야 합니다
- `try`의 본문 내부에 여러 문장이 있다면 마지막 식의 값이 전체 결과값이 됩니다

```kotlin
fun readNumber(reader: BufferedReader) {
	val number = try {
		Integer.parseInt(reader.readLine())
	} catch(e: NumberFormatException) {
		null  // 예외 발생 시 null 반환
	}
	
	println(number)  // 정상: 파싱된 숫자, 예외: null
}
```

| 상황 | 결과값 |
|------|--------|
| 정상 실행 | `try` 블록의 마지막 식 |
| 예외 발생 | `catch` 블록의 마지막 식 |
| `finally` 존재 | `finally`는 결과에 영향 없음 (항상 실행) |


피그마 링크(node id) -> 





> [!cue] Sample of a Summary

> [!summary] Title for summary

